{
  "name": "waltz",
  "displayName": "Waltz",
  "description": "Graceful modal editing for VS Code. A Vim-inspired editor with VS Code-native selection handling.",
  "version": "0.3.0",
  "license": "MIT",
  "publisher": "statiolake",
  "repository": {
    "type": "git",
    "url": "https://github.com/statiolake/vscode-waltz.git"
  },
  "engines": {
    "vscode": "^1.75.0"
  },
  "extensionKind": [
    "ui"
  ],
  "categories": [
    "Keymaps"
  ],
  "activationEvents": [
    "onStartupFinished"
  ],
  "main": "./out/extension",
  "contributes": {
    "keybindings": [
      {
        "key": "Escape",
        "command": "waltz.escapeKey",
        "when": "editorTextFocus"
      },
      {
        "key": "ctrl+r",
        "command": "redo",
        "when": "editorTextFocus && waltz.mode != 'insert'"
      },
      {
        "key": "ctrl+d",
        "command": "waltz.send",
        "args": {
          "keys": "<C-d>"
        },
        "when": "editorTextFocus && waltz.mode != 'insert'"
      },
      {
        "key": "ctrl+u",
        "command": "waltz.send",
        "args": {
          "keys": "<C-u>"
        },
        "when": "editorTextFocus && waltz.mode != 'insert'"
      },
      {
        "key": "ctrl+o",
        "command": "-lineBreakInsert",
        "when": "textInputFocus && !editorReadonly"
      },
      {
        "key": "ctrl+o",
        "command": "workbench.action.navigateBack",
        "when": "editorTextFocus && waltz.mode == 'normal'"
      },
      {
        "key": "ctrl+i",
        "command": "workbench.action.navigateForward",
        "when": "editorTextFocus && waltz.mode == 'normal'"
      },
      {
        "key": "ctrl+w",
        "command": "deleteWordLeft",
        "when": "textInputFocus && !editorReadonly && waltz.mode == 'insert'"
      },
      {
        "key": "backspace",
        "command": "waltz.noop",
        "when": "editorTextFocus && waltz.mode != 'insert'"
      },
      {
        "key": "delete",
        "command": "waltz.noop",
        "when": "editorTextFocus && waltz.mode != 'insert'"
      },
      {
        "key": "enter",
        "command": "waltz.noop",
        "when": "editorTextFocus && waltz.mode != 'insert'"
      },
      {
        "key": "tab",
        "command": "waltz.noop",
        "when": "editorTextFocus && waltz.mode != 'insert'"
      }
    ],
    "configuration": {
      "type": "object",
      "title": "Waltz Configuration",
      "properties": {
        "waltz.customBindings": {
          "type": "array",
          "default": [],
          "description": "Custom key bindings that execute VSCode commands.",
          "items": {
            "type": "object",
            "required": [
              "keys",
              "commands"
            ],
            "properties": {
              "keys": {
                "type": "array",
                "description": "Key sequence to trigger the commands (e.g., [\"g\", \"d\"]).",
                "items": {
                  "type": "string"
                }
              },
              "modes": {
                "type": "array",
                "description": "Vim modes where this binding is active. If not specified, applies to all modes.",
                "items": {
                  "type": "string",
                  "enum": [
                    "normal",
                    "visual",
                    "visualLine",
                    "insert"
                  ]
                }
              },
              "commands": {
                "type": "array",
                "description": "Array of VSCode commands to execute sequentially.",
                "items": {
                  "type": "object",
                  "required": [
                    "command"
                  ],
                  "properties": {
                    "command": {
                      "type": "string",
                      "description": "VSCode command to execute (e.g., \"editor.action.revealDefinition\")."
                    },
                    "args": {
                      "description": "Optional arguments to pass to the command."
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "scripts": {
    "vscode:prepublish": "npm run compile",
    "compile": "tsc -p ./",
    "watch": "tsc -watch -p ./",
    "lint": "eslint src --ext ts && biome check .",
    "format": "biome format --write .",
    "prepare": "husky",
    "package": "vsce package"
  },
  "lint-staged": {
    "*.{ts,js,mjs,json}": [
      "biome format --write --no-errors-on-unmatched"
    ]
  },
  "devDependencies": {
    "@biomejs/biome": "^2.2.6",
    "@types/node": "24.7.2",
    "@types/vscode": "^1.75.0",
    "@vscode/vsce": "^3.6.2",
    "eslint": "9.37.0",
    "husky": "^9.1.7",
    "lint-staged": "^16.2.4",
    "typescript": "5.9.3",
    "typescript-eslint": "^8.46.0"
  },
  "dependencies": {
    "jsonc-parser": "^3.3.1",
    "zod": "^4.1.12"
  }
}
